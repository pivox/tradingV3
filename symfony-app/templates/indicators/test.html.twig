{% extends 'base.html.twig' %}

{% block title %}Test Indicateurs (Klines){% endblock %}

{% block body %}
    <h1>Analyse RSI / MACD via BitMart</h1>

    <form method="post">
        <label>Symbol:</label>
        <input type="text" name="symbol" value="SOLUSDT" required>

        <label>Interval:</label>
        <select name="interval">
            <option value="1m">1m</option>
            <option value="5m">5m</option>
            <option value="15m">15m</option>
            <option value="1h">1h</option>
        </select>

        <label>Limit:</label>
        <input type="number" name="limit" value="50" min="20" max="200">

        <button type="submit">Analyser</button>
    </form>

    {% if rsi %}
        <h2>RSI</h2>
        <pre>{{ rsi|json_encode(constant('JSON_PRETTY_PRINT')) }}</pre>
    {% endif %}

    {% if macd %}
        <h2>MACD</h2>
        <pre>{{ macd|json_encode(constant('JSON_PRETTY_PRINT')) }}</pre>
    {% endif %}
{% endblock %}
