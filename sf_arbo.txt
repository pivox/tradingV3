project-root/
├─ bin/
│  └─ console
├─ config/
│  ├─ packages/
│  │  └─ trading.yaml                 # A. Règles & indicateurs par timeframe
│  ├─ routes/
│  │  └─ routes.yaml
│  └─ services.yaml                   # Wiring des services (autowire/autoconfigure)
├─ public/
│  └─ index.php
├─ src/
│  ├─ Controller/
│  │  ├─ TradingController.php        # Endpoints HTTP (ex: /trading/run, /trading/report)
│  │  └─ HealthcheckController.php
│  ├─ Command/
│  │  ├─ SignalsGenerateCommand.php   # A: bin/console app:signals:generate
│  │  ├─ BacktestRunCommand.php       # B: bin/console app:backtest:run
│  │  ├─ ValidateCpcvCommand.php      # C: bin/console app:validate:cpcv
│  │  └─ DecideStrategyCommand.php    # E: bin/console app:decide
│  ├─ Service/
│  │  ├─ Config/
│  │  │  └─ TradingParameters.php     # charge/valide config/packages/trading.yaml
│  │  ├─ MarketData/
│  │  │  ├─ MarketDataProvider.php    # interface simple
│  │  │  ├─ BinanceDataProvider.php   # impl concrète
│  │  │  └─ BybitDataProvider.php
│  │  ├─ Indicators/                  # calcul indicateurs (utilisables partout)
│  │  │  ├─ EMA.php  RSI.php  MACD.php  ADX.php  ATR.php  Bollinger.php
│  │  │  ├─ OBV.php VWAP.php  Ichimoku.php  StochRSI.php  CCI.php  Supertrend.php
│  │  │  └─ Helpers.php               # utilitaires communs
│  │  ├─ Signals/                     # A. Génération du signal
│  │  │  ├─ RuleEngine/               # mini-moteur YAML (any, all, above, crosses_above…)
│  │  │  │  ├─ RuleEngine.php
│  │  │  │  ├─ Operators/
│  │  │  │  │  ├─ AnyOperator.php AllOperator.php AboveOperator.php
│  │  │  │  │  ├─ CrossesAboveOperator.php SlopeUpOperator.php DeltaMinOperator.php
│  │  │  │  └─ Scoring.php            # weights + pass_threshold
│  │  │  ├─ TimeframeEvaluator.php    # applique règles 4h→1m
│  │  │  └─ SignalGenerator.php       # orchestre la génération (retourne une liste de signaux candidats)
│  │  ├─ Backtest/                    # B. Backtest unitaire
│  │  │  ├─ Simulator.php             # exécute entrées/SL/TP/frais/sizing
│  │  │  ├─ Position.php Trade.php
│  │  │  └─ Metrics.php               # Winrate, PF, DD, Sharpe, EV…
│  │  ├─ Cpcv/                        # C. Validation CPCV (purge + embargo)
│  │  │  ├─ PurgedKFold.php
│  │  │  └─ CombinatorialPurgedCV.php
│  │  ├─ Stats/                       # D. Mesures corrigées
│  │  │  ├─ PSR.php                   # Probabilistic Sharpe Ratio
│  │  │  ├─ DSR.php                   # Deflated Sharpe Ratio
│  │  │  └─ HLZThreshold.php          # seuils t-stat ajustés (Harvey–Liu–Zhu)
│  │  ├─ Decision/                    # E. Décision finale
│  │  │  ├─ DecisionPolicy.php        # règles (EV>0, PF≥1.3, DSR≥95%, DD<seuil)
│  │  │  └─ DecisionService.php       # produit un verdict + rapport
│  │  └─ Report/
│  │     ├─ CsvReport.php HtmlReport.php
│  │     └─ ReportStorage.php         # sauvegarde var/reports
│  ├─ DTO/
│  │  ├─ SignalDTO.php BacktestResultDTO.php ValidationResultDTO.php DecisionDTO.php
│  │  └─ TimeRange.php Contract.php RiskParams.php
│  └─ Kernel.php
├─ tests/
│  ├─ Unit/           # tests rapides opérateurs/indicateurs/PSR-DSR
│  ├─ Integration/    # chargement YAML, provider marché, pipeline réduit
│  └─ Acceptance/     # mini jeu de données → A→E bout-en-bout
├─ var/
│  ├─ cache/ logs/
│  └─ reports/        # CSV/HTML générés
├─ vendor/
└─ composer.json