# trading.yaml
# ==================================================
# Règles RSI (très assouplies) pour augmenter le taux de "valid=true"
# - Seuils plus bas pour LONG, plus hauts pour SHORT
# - Acceptation si l'une des conditions légères est vraie
# - Scores/threshold abaissés
# - Fenêtre RSI conservée à 14 (standard)
# ==================================================

timeframes:

  "5m":
    rsi:
      length: 14
      long:
        any:
          - crosses_above: 28       # plus permissif
          - all:
              - above: 33
              - slope_up: true
              - delta_min: 0.6      # progression RSI minimale (faible)
        score:
          weights:
            crosses_above: 0.55
            slope_up: 0.25
            above: 0.20
          pass_threshold: 0.40       # seuil abaissé
      short:
        any:
          - crosses_below: 72        # plus permissif
          - all:
              - below: 67
              - slope_down: true
              - delta_min: 0.6
        score:
          weights:
            crosses_below: 0.55
            slope_down: 0.25
            below: 0.20
          pass_threshold: 0.40

  "15m":
    rsi:
      length: 14
      long:
        any:
          - crosses_above: 30
          - all:
              - above: 35
              - slope_up: true
              - delta_min: 0.6
        score:
          weights:
            crosses_above: 0.52
            slope_up: 0.28
            above: 0.20
          pass_threshold: 0.42
      short:
        any:
          - crosses_below: 70
          - all:
              - below: 65
              - slope_down: true
              - delta_min: 0.6
        score:
          weights:
            crosses_below: 0.52
            slope_down: 0.28
            below: 0.20
          pass_threshold: 0.42

  "1h":
    rsi:
      length: 14
      long:
        any:
          - crosses_above: 32
          - all:
              - above: 37
              - slope_up: true
              - delta_min: 0.5
        score:
          weights:
            crosses_above: 0.50
            slope_up: 0.30
            above: 0.20
          pass_threshold: 0.45
      short:
        any:
          - crosses_below: 68
          - all:
              - below: 63
              - slope_down: true
              - delta_min: 0.5
        score:
          weights:
            crosses_below: 0.50
            slope_down: 0.30
            below: 0.20
          pass_threshold: 0.45

  "4h":
    rsi:
      length: 14
      long:
        any:
          - crosses_above: 34
          - all:
              - above: 38
              - slope_up: true
              - delta_min: 0.4
        score:
          weights:
            crosses_above: 0.48
            slope_up: 0.32
            above: 0.20
          pass_threshold: 0.46
      short:
        any:
          - crosses_below: 66
          - all:
              - below: 61
              - slope_down: true
              - delta_min: 0.4
        score:
          weights:
            crosses_below: 0.48
            slope_down: 0.32
            below: 0.20
          pass_threshold: 0.46
